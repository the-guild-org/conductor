[package]
name = "telemetry_plugin"
version = "0.0.0"
edition = "2021"

[lib]
path = "src/lib.rs"

[features]
test_utils = []

[dependencies]
serde = { workspace = true }
serde_json = { workspace = true }
async-trait = { workspace = true }
conductor_common = { path = "../../libs/common" }
conductor_tracing = { path = "../../libs/tracing" }
schemars = { workspace = true }
humantime-serde = "1.1.1"
opentelemetry = { version = "0.21.0", features = ["trace"] }
opentelemetry_sdk = { version = "0.21.2", features = ["trace"] }
minitrace = { workspace = true }

[target.'cfg(not(target_arch = "wasm32"))'.dependencies]
minitrace-datadog = "0.6.3"
minitrace-jaeger = "0.6.2"
minitrace-opentelemetry = { git = "https://github.com/dotansimha/minitrace-rust.git", rev = "2f3bad8297db0f9b980e3f69e73401ce957dccd1" }
opentelemetry-otlp = { version = "0.14.0" }
